import{_ as S,r as n,o as i,g as y,w as e,a as t,b as l,d as o,c as g,h as I,F as x,k as B,t as c,y as N,x as V,z as P,A as R}from"./app-f2b2cabb.js";import{C as E,A as O}from"./Associate-d56e3e23.js";import"./employeeStore-4009d962.js";import"./itemStore-737c839f.js";import"./locationStore-c999e36b.js";import"./VDataTable-7163fc42.js";const U={data(){return{employee:{}}},methods:{async fetchEmployee(){const p=await axios.get(`/api/employee/${this.$route.params.id}`);this.employee=p.data.data}},created(){this.fetchEmployee()}},j={class:"d-flex align-center text-blue-grey-darken-3 mt-5",style:{gap:"1rem"}},z=l("h2",{class:"text-h6"},"Device/s Owned",-1),H=l("thead",null,[l("tr",null,[l("th",null,"Type"),l("th",null,"Brand"),l("th",null,"model")])],-1);function L(p,a,_,k,s,w){const r=n("v-img"),u=n("v-col"),d=n("v-icon"),b=n("router-link"),h=n("v-table"),f=n("v-card-text"),m=n("v-card"),$=n("v-row");return i(),y($,null,{default:e(()=>[t(u,null,{default:e(()=>[t(r,{class:"bg-white",width:"300","aspect-ratio":1,src:"/Logo.svg",contain:"",style:{"margin-inline":"auto"}})]),_:1}),t(u,null,{default:e(()=>{var C,T;return[t(m,{title:(C=s.employee)==null?void 0:C.full_name,subtitle:`ID Number: ${(T=s.employee)==null?void 0:T.employee_no}`},{default:e(()=>[t(f,null,{default:e(()=>{var A;return[l("div",j,[t(d,null,{default:e(()=>[o("mdi-devices")]),_:1}),z]),(A=s.employee.items)!=null&&A.length?(i(),y(h,{key:0},{default:e(()=>[H,l("tbody",null,[(i(!0),g(x,null,I(s.employee.items,(v,D)=>(i(),g("tr",{key:D},[l("td",null,c(v.category.name),1),l("td",null,[t(b,{to:`/item/${v.id}/show`,class:"text-blue-lighten-1"},{default:e(()=>[o(c(v.brand),1)]),_:2},1032,["to"])]),l("td",null,c(v.model),1)]))),128))])]),_:1})):B("",!0)]}),_:1})]),_:1},8,["title","subtitle"])]}),_:1})]),_:1})}const F=S(U,[["render",L]]),M={props:{employeeInventory:Array},methods:{transferType(p){return p?"Transfer":"Surrender"}}},J=l("thead",null,[l("tr",null,[l("th",null,"Tranferred Date"),l("th",null,"Officer in charge"),l("th",null,"Type of Transfer"),l("th",null,"Assigned Employee"),l("th",null,"Assigned Location")])],-1);function q(p,a,_,k,s,w){const r=n("v-card-title"),u=n("v-chip"),d=n("router-link"),b=n("v-table"),h=n("v-card");return i(),y(h,{class:"mt-3"},{default:e(()=>[t(r,{"prepend-icon":"mdi-history"},{default:e(()=>[o("Device history")]),_:1}),t(b,null,{default:e(()=>[J,l("tbody",null,[(i(!0),g(x,null,I(this.employeeInventory,(f,m)=>{var $;return i(),g("tr",{key:m},[l("td",null,c(f.transferred_date),1),l("td",null,c(f.officer_in_charge),1),l("td",null,[t(u,{color:f.is_active?"green":"red"},{default:e(()=>[o(c(w.transferType(f.is_active)),1)]),_:2},1032,["color"])]),l("td",null,[t(d,{to:`/employee/${f.by_employee.id}/show`,class:"text-blue-lighten-1"},{default:e(()=>[o(c(f.by_employee.full_name),1)]),_:2},1032,["to"])]),l("td",null,c(($=f.by_location)==null?void 0:$.name),1)])}),128))])]),_:1})]),_:1})}const G=S(M,[["render",q]]),K={components:{Chip:E,Associate:O},props:{item:Object},data(){return{dialog:!1}}},Q=l("div",{class:"d-flex align-center text-blue-grey-darken-3 mt-5",style:{gap:"1rem"}},null,-1),W=l("div",{class:"d-flex align-center text-blue-grey-darken-3 mt-5",style:{gap:"1rem"}},null,-1);function X(p,a,_,k,s,w){const r=n("v-list-item-title"),u=n("v-list-item-subtitle"),d=n("v-list-item"),b=n("v-list"),h=n("v-col"),f=n("Chip"),m=n("v-btn"),$=n("router-link"),C=n("v-row"),T=n("Associate"),A=n("v-dialog");return i(),g(x,null,[t(C,null,{default:e(()=>[t(h,null,{default:e(()=>[Q,t(b,null,{default:e(()=>[t(d,null,{default:e(()=>[t(r,null,{default:e(()=>{var v;return[o(c((v=_.item.category)==null?void 0:v.name),1)]}),_:1}),t(u,null,{default:e(()=>[o("Device Type")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[o(c(_.item.model),1)]),_:1}),t(u,null,{default:e(()=>[o("Model")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[o(c(_.item.brand),1)]),_:1}),t(u,null,{default:e(()=>[o("Brand")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[o(c(_.item.serial_no),1)]),_:1}),t(u,null,{default:e(()=>[o("Serial Number")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[o(c(_.item.mk_tag_no),1)]),_:1}),t(u,null,{default:e(()=>[o("Mk Tag")]),_:1})]),_:1})]),_:1})]),_:1}),t(h,null,{default:e(()=>[W,t(b,null,{default:e(()=>[t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[t(f,{list:_.item.status,listType:"condition"},null,8,["list"])]),_:1}),t(u,null,{default:e(()=>[o("Device Condition")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>{var v;return[_.item.owned_by_employee?(i(),y($,{key:1,to:`/employee/${(v=_.item.owned_by_employee)==null?void 0:v.id}/show`,class:"text-blue-lighten-1",replace:""},{default:e(()=>{var D;return[o(c((D=_.item.owned_by_employee)==null?void 0:D.full_name),1)]}),_:1},8,["to"])):(i(),y(m,{key:0,onClick:a[0]||(a[0]=D=>s.dialog=!0),icon:"mdi-swap-horizontal",variant:"flat",class:"text-blue-lighten-1"}))]}),_:1}),t(u,null,{default:e(()=>[o("Active User")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[o(c(_.item.date_purchased),1)]),_:1}),t(u,null,{default:e(()=>[o("Purchased Date")]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(r,null,{default:e(()=>[o(c(_.item.accountability_no),1)]),_:1}),t(u,null,{default:e(()=>[o("Accountability Number")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(A,{modelValue:s.dialog,"onUpdate:modelValue":a[3]||(a[3]=v=>s.dialog=v)},{default:e(()=>[t(T,{onClose:a[1]||(a[1]=v=>s.dialog=!1),onChange:a[2]||(a[2]=v=>s.dialog=!1),item:_.item},null,8,["item"])]),_:1},8,["modelValue"])],64)}const Y=S(K,[["render",X]]);const Z={props:{additionalData:Object}};function ee(p,a,_,k,s,w){const r=n("v-list-item-title"),u=n("v-list-item-subtitle"),d=n("v-list-item"),b=n("v-list");return i(),y(b,{class:"grid-2x2"},{default:e(()=>[(i(!0),g(x,null,I(_.additionalData,(h,f)=>(i(),y(d,{key:f,class:"list-item"},{default:e(()=>[t(r,null,{default:e(()=>[o(c(h.value),1)]),_:2},1024),t(u,null,{default:e(()=>[o(c(h.title),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})}const te=S(Z,[["render",ee],["__scopeId","data-v-8b0eb750"]]),ne={async setup(){const p=N(),_=(await axios.get(`/api/item/${p.params.id}`)).data.data,s=(await axios.get(`/api/employee-inventory/${p.params.id}`)).data.data;return{item:_,employeeInventory:s}},components:{HistoryShow:G,BasicInfoShow:Y,AdditionalInfoShow:te},data(){return{tab:null,tabData:[{value:1,title:"Basic Info",component:"BasicInfoShow",props:{item:this.item},icon:"mdi-devices"},{value:2,title:"Additional Info",component:"AdditionalInfoShow",props:{additionalData:JSON.parse(this.item.json_attr)},icon:"mdi-information-box-outline"},{value:3,title:"Device History",component:"HistoryShow",props:{employeeInventory:this.employeeInventory},icon:"mdi-history"}]}}};function le(p,a,_,k,s,w){const r=n("v-tab"),u=n("v-tabs"),d=n("v-container"),b=n("v-window-item"),h=n("v-window"),f=n("v-card");return i(),g(x,null,[t(f,{class:"mt-2"},{default:e(()=>[t(u,{modelValue:s.tab,"onUpdate:modelValue":a[0]||(a[0]=m=>s.tab=m),color:"blue-lighten-1"},{default:e(()=>[(i(!0),g(x,null,I(s.tabData,m=>(i(),y(r,{value:m.value,"prepend-icon":m.icon,key:m.value,class:"text-none"},{default:e(()=>[o(c(m.title),1)]),_:2},1032,["value","prepend-icon"]))),128))]),_:1},8,["modelValue"]),t(h,{modelValue:s.tab,"onUpdate:modelValue":a[1]||(a[1]=m=>s.tab=m)},{default:e(()=>[(i(!0),g(x,null,I(s.tabData,m=>(i(),y(b,{key:m.value,value:m.value},{default:e(()=>[t(d,null,{default:e(()=>[(i(),y(V(m.component),P(R(m.props)),null,16))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(d)],64)}const oe=S(ne,[["render",le]]);const ae={data(){return{showPageTitle:this.$route.params.showable.toString()}},computed:{getShowableComponent(){switch(this.showPageTitle){case"employee":return F;case"item":return oe}}},created(){this.$watch(()=>this.$route.params.showable,(p,a)=>{console.log("to:",p," from: ",a),this.showPageTitle=(p==null?void 0:p.at(0))||a.at(0)})}},se={class:"d-flex items-end",style:{gap:"2rem"}},ie={class:"proper text-h4"};function _e(p,a,_,k,s,w){const r=n("v-btn"),u=n("v-container");return i(),y(u,null,{default:e(()=>[l("div",se,[t(r,{icon:"mdi-keyboard-backspace",color:"blue-grey-lighten-5",onClick:a[0]||(a[0]=d=>this.$router.back())}),l("h1",ie,c(s.showPageTitle)+" information",1)]),(i(),y(V(w.getShowableComponent)))]),_:1})}const fe=S(ae,[["render",_e],["__scopeId","data-v-d1c8aa2d"]]);export{fe as default};
